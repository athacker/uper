
<script type="text/javascript" src="http://code.jquery.com/jquery-1.10.0.min.js"></script>


<script type="text/javascript">
$( document ).ready(function() {
	pageInit();
	
	$('.detailsButton').click(function( ){
	 	var selectedSectionId = $(this).attr('data-row');
	 	toggleSection(selectedSectionId );
		console.log("Header Was Selected: " + selectedSectionId);
		 
	});
 });
 


var pageInit =function(){
	console.log("Initialize Page.");
	$('.details').hide();
 };

var toggleSection = function(sectionId){
	console.log("Toggle Section: " + sectionId);
	processData ( sectionId); 
	$('#'+sectionId).toggle('slow');
};


var processData = function(sectionId){
	 console.log("Append data returned from ajax call to DOM elements.");
	 var data =  ajaxForData(sectionId);
 	 var rowData;
	
	 	$.each(data,function ( ctr, object){
	 		rowData="<tr><td>";
	 		rowData=rowData+object.name;
	 		rowData=rowData+"</td><td>";
	 		rowData=rowData+object.count;
	 		rowData=rowData+"</td><td>";
	 		rowData=rowData+object.type;
	 		rowData=rowData+"</td><td>";
	 		
			rowData=rowData+object.freq;
	 		rowData=rowData+"</td><td>";
	 		rowData=rowData+object.last;
	 		rowData=rowData+"</td><td>";
	 		rowData=rowData+object.next;
	 		rowData=rowData+"</td> </tr>"
	 	});
	 	console.log(rowData);

	 	$('.'+ sectionId).append(rowData);
};

var ajaxForData = function( sectionId){
	var data={   'PF001':[{'name':'Nitrate', 'count':'1',  'type':'routine' , 'freq':'Quarter' ,'last':'1/17/14', 'next':'4/1/14 - 6/30-14'}], 'PF002':[{'name':'Pesticides', 'count':'3', 'type':'routine', 'freq':'Quarter' ,'last':'4/17/14', 'next':'4/1/14 - 6/30-14'}],'PF003':[{'name':'Nitrate', 'count':'8', 'type':'routine', 'freq':'Quarter' ,'last':'2/17/14', 'next':'4/1/14 - 6/30-14'} ]    };
	return(data[sectionId]);	
};


</script>





<div id="wm-report-facility-requirements" class="">
<h3 class="tableTitle">Monitoring Requirements By Facility</h3>  


 <table border="2">
  <thead>
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Facility Details</th>
    </tr>
  </thead>
  <tbody>
   <tr>
      <td>PF001</td>
      <td>Iron Canyon</td>
      <td><a href="#" class="detailsButton" data-row="PF001">View Details</a></td>
    </tr>
   
   
   
    <tr class="details" id="PF001" >
	  <td colspan="100">
      <div>
      <table class="PF001" >
      <thead>
          <tr>
            <th>Name</th>
            <th>Sample Count</th>
            <th>Type</th>
            <th>Frequency</th>
            <th>Last Sample</th>
            <th>Next Sample Due</th>
        </tr>
        </thead>
       	<tbod></tbody>
        
        
        
      </table>
      <div class="clearfix"></div>
      </div><!--end of sub table details-->
     </td>
     </tr>
    
    
    
    
    
    
    
    
    
    
    <tr>
      <td>PF002</td>
      <td>Fairway Hills</td>
      <td><a href="#" class="detailsButton" data-row="PF002">View Details</a></td>
    </tr>
   
   
    <tr class="details" id="PF002" >
	<td colspan="100">
      <div>
      <table class="PF002">
      <thead>
          <tr>
            <th>Name</th>
            <th>Sample Count</th>
            <th>Type</th>
            <th>Frequency</th>
            <th>Last Sample</th>
            <th>Next Sample Due</th>
        </tr>
        </thead>
      <tbody> 
          
          
      </tbody>
      </table>
      <div class="clearfix"></div>
      </div><!--end of sub table details-->
     </td>
     </tr>
    
    
    
    
    
    
    
    
    <tr>
      <td>PF003</td>
      <td>Chatham Crossing</td>
      <td><a href="#" class="detailsButton" data-row="PF003">View Details</a></td>
    </tr>
    
    <tr class="details" id="PF003" >
	<td colspan="100">
      <div>
      <table class="PF002">
      <thead>
          <tr>
            <th>Name</th>
            <th>Sample Count</th>
            <th>Type</th>
            <th>Frequency</th>
            <th>Last Sample</th>
            <th>Next Sample Due</th>
        </tr>
        </thead>
      <tbody> 
           
          
      </tbody>
      </table>
      <div class="clearfix"></div>
      </div><!--end of sub table details-->
     </td>
     </tr>
        
          
      </tbody>
      </table>
      
      
      
      
      <div class="clearfix"></div>
      </div><!--end of sub table details-->
     </td>
     </tr>
    
   
    
     <tr class="">
    <td colspan="100">Total Facilities: 3</td>
    </tr>
  </tbody>
</table>
</div>


 